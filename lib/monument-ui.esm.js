import n,{useRef as e,useState as r,useEffect as o}from"react";import t from"styled-components";import a from"to-px";import i from"color";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c=function(){return(c=Object.assign||function(n){for(var e,r=1,o=arguments.length;r<o;r++)for(var t in e=arguments[r])Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}).apply(this,arguments)};function l(n,e){var r={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(r[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(o=Object.getOwnPropertySymbols(n);t<o.length;t++)e.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(n,o[t])&&(r[o[t]]=n[o[t]])}return r}function s(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var u,d="\n  transform: translate3d(0, 0, 0);\n  box-shadow: 0 0 0 0 #0000;\n",v=t.div(u||(u=s(["\n  ","\n"],["\n  ","\n"])),(function(n){var e=n.depth,r=n.layers,o=n.animate,t=n.clickable,a=n.hoverable,i=n.touchable;return"\n    transform: translate3d("+-e.x+"px, "+-e.y+"px, 0);\n    will-change: transform;\n    box-shadow: "+r+";\n    \n    "+(o&&"transition: transform 300ms ease, box-shadow 300ms ease;")+"\n\n    "+("push"===t?"\n      &:focus,\n      &:active {\n        "+d+"\n      }\n    ":"")+"\n    \n    "+("push"===a?"\n      &:not(:focus):hover,\n      &:not(:active):hover {\n        "+d+"\n      }\n    ":"")+"\n\n    "+("push"===i?"\n      &:hover {\n        "+d+"\n      }\n    ":"")+"\n "}));function f(n){return Math.round("string"==typeof n?a(n):n)}var p,y=function(n,e){var r=i(n);return console.log({levels:e}),console.log(1/(5*e)),console.log(r[r.isDark()?"lighten":"darken"](1/(5*e)).toString()),r[r.isDark()?"lighten":"darken"](1/(5*e)).toString()},h=function(n){for(var e=n.x,r=n.y,o=n.color,t=n.shadow,a=n.colorify,i=function(n){return Math.abs(n)},c=i(e)>i(r)?[e,r]:[r,e],l=c[0],s=i(c[1])/i(l),u=[],d=0,v=1;v<=i(l);v++){d+=s,a&&(o=y(o,i(l)));var f=i(e)>i(r)?[v,d]:[d,v],p=f[0],h=f[1];u.push((e>0?p:-p)+"px "+(r>0?h:-h)+"px 0 "+o)}return t&&u.push(t),u.join(",")},x=function(t){var a=t.color,i=t.shadow,s=void 0===i?"":i,u=t.colorify,d=void 0!==u&&u,p=t.perspective,y=void 0===p?{x:5,y:5}:p,x=t.clickable,m=t.hoverable,b=t.touchable,w=t.children,g=l(t,["color","shadow","colorify","perspective","clickable","hoverable","touchable","children"]),O=e(null),E=r(""),L=E[0],j=E[1],k=r(!1),P=k[0],z=k[1],M=r(),S=M[0],D=M[1],I=r(),q=I[0],A=I[1],B=r(),C=B[0],F=B[1],G=r({x:f(y.x),y:f(y.y)}),H=G[0],J=G[1];return o((function(){var n=function(){var n,e,r=f(y.x),o=f(y.y);S&&"pull"===x||q&&"pull"===m||C&&"pull"===b?(n=r>0?r/2:r<0?-r/2:0,e=o>0?o/2:o<0?-o/2:0):(n=0,e=0);var t={x:r,y:o};(S||q||C)&&z(!0),t.x=Math.round(t.x>0?t.x+n:t.x<0?t.x-n:t.x),t.y=Math.round(t.y>0?t.y+e:t.y<0?t.y-e:t.y);var i=h({x:t.x,y:t.y,color:a,shadow:s,colorify:d});j(i),J({x:t.x,y:t.y})};n(),O.current.addEventListener("mousedown",(function(){return D(x)})),O.current.addEventListener("mouseup",(function(){return D(void 0)})),O.current.addEventListener("mouseenter",(function(){return A(m)})),O.current.addEventListener("mouseleave",(function(){return A(void 0)})),O.current.addEventListener("touchstart",(function(){return F(b)}),{passive:!0}),O.current.addEventListener("touchend",(function(){return F(void 0)})),window.addEventListener("resize",n),window.removeEventListener("resize",n)}),[S,x,a,d,L,q,m,y.x,y.y,s,b,C]),n.createElement(v,c({},g,{ref:O,depth:H,layers:L,animate:P,clickable:S,hoverable:q,touchable:C}),w)},m=t.p(p||(p=s(["\n  ","\n"],["\n  ","\n"])),(function(n){var e=n.depth,r=n.layers;return"\n    transform: translate3d("+-e.x/2+"px, "+-e.y/2+"px, 0);\n    text-shadow: "+r+";\n  "})),b=function(e){var t=e.color,a=e.shadow,i=void 0===a?"":a,s=e.colorify,u=void 0!==s&&s,d=e.perspective,v=void 0===d?{x:5,y:5}:d,p=e.children,y=l(e,["color","shadow","colorify","perspective","children"]),x=r(""),b=x[0],w=x[1],g={x:f(v.x),y:f(v.y)};return o((function(){var n=function(){var n=h({x:f(v.x),y:f(v.y),color:t,shadow:i,colorify:u});w(n)};n(),window.addEventListener("resize",n),window.removeEventListener("resize",n)}),[t,u,v.x,v.y,i]),n.createElement(m,c({},y,{depth:g,layers:b}),p)};export{x as Element,b as Text};
//# sourceMappingURL=monument-ui.esm.js.map
